{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/CsEditor.vue?0c71","webpack:///./src/views/StoryScreen.vue?a5f9","webpack:///./src/App.vue?8b55","webpack:///./src/components/CsNotification.vue?9cbb","webpack:///./src/store/mutations.js","webpack:///src/components/CsNotification.vue","webpack:///./src/components/CsNotification.vue?058b","webpack:///./src/components/CsNotification.vue","webpack:///src/App.vue","webpack:///./src/App.vue?a37b","webpack:///./src/App.vue?180a","webpack:///./src/components/CsLoadStoryForm.vue?e0a6","webpack:///src/components/CsLoadStoryForm.vue","webpack:///./src/components/CsLoadStoryForm.vue?c0d5","webpack:///./src/components/CsLoadStoryForm.vue?d9ab","webpack:///./src/config/config.js","webpack:///./src/store/store.helpers.js","webpack:///./src/store/newStore.js","webpack:///./src/views/Landing.vue?96b7","webpack:///src/views/Landing.vue","webpack:///./src/views/Landing.vue?30c7","webpack:///./src/views/Landing.vue?8862","webpack:///./src/views/StoryScreen.vue?5ec1","webpack:///./src/config/map.js","webpack:///./src/components/CsEditor.vue?00dc","webpack:///./src/components/editor/FeatureMark.js","webpack:///src/components/CsEditor.vue","webpack:///./src/components/CsEditor.vue?8bab","webpack:///./src/components/CsEditor.vue?36af","webpack:///./src/components/CsMap.vue?251e","webpack:///./src/components/CsTrackUploadButton.vue?48bb","webpack:///src/components/CsTrackUploadButton.vue","webpack:///./src/components/CsTrackUploadButton.vue?3d57","webpack:///./src/components/CsTrackUploadButton.vue?0963","webpack:///src/components/CsMap.vue","webpack:///./src/components/CsMap.vue?110c","webpack:///./src/components/CsMap.vue","webpack:///src/views/StoryScreen.vue","webpack:///./src/views/StoryScreen.vue?262c","webpack:///./src/views/StoryScreen.vue?65e6","webpack:///./src/router.js","webpack:///./src/main.js","webpack:///./src/App.vue?df62","webpack:///./src/components/CsLoadStoryForm.vue?8c52","webpack:///./src/components/CsTrackUploadButton.vue?a17a","webpack:///./src/views/Landing.vue?7441"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","directives","rawName","expression","modifiers","_e","staticRenderFns","REMOVE_ERROR","UPDATE_ERRORS","UPDATE_EDITABLE","UPDATE_FEATURE_MARK_CALLBACK","UPDATE_HIGHLIGHTED_LAT_LNG","UPDATE_LOADING","UPDATE_MAP_CENTER","UPDATE_STORY","UPDATE_STORY_NAME","UPDATE_STORY_TEXT","UPDATE_STORY_URL","UPDATE_TRACK","computed","errors","$store","state","forEach","type","title","e","message","onClose","duration","watch","component","components","CsNotification","loading","_v","availableStories","on","handleStorySelect","model","callback","$$v","currentStory","_l","story","storyName","storyUrl","disabledSubmit","handleSubmit","undefined","set","commit","methods","STORY_LINK_LAT_ATTR","STORY_LINK_LNG_ATTR","STORY_LINK_LAT_ATTR_CAMEL","toCamelCase","STORY_LINK_LNG_ATTR_CAMEL","STORY_LINK_CLICK_EVENT","ADD_FEATURE_MARK_EVENT","TRACK_FILE_UPLOAD_EVENT","str","split","map","item","idx","toUpperCase","join","last","xs","val","setPath","path","obj","reduce","acc","x","Vue","use","Vuex","editable","text","track","addFeatureMarkCallback","highlightedLatLng","mutations","error","findIndex","newErorr","latLng","lat","Number","parseFloat","lng","actions","updateTrack","payload","updateStoryText","loadStory","axios","getters","features","content","doc","JSON","parse","stringify","mapDeep","pickDeep","v","leavesOnly","filter","chunk","featuresWithoutHighlighted","feature","Store","strict","staticClass","$event","$router","ready","staticStyle","_d","handleAddFeatureMarkClick","handleSave","mapOptions","bounds","center","baseLayer","hikingOverlay","labelsOverlay","zoom","edgeMarker","markerOptions","style","common","radius","weight","highlighted","color","opacity","fillOpacity","inBbox","plain","edge","icon","L","iconUrl","iconRetinaUrl","shadowUrl","iconSize","iconAnchor","popupAnchor","tooltipAnchor","shadowSize","trackOptions","dashArray","_s","editor","scopedSlots","_u","fn","ref","commands","isActive","class","heading","level","keepInBounds","getMarkAttrs","menu","isNewFeatureMarkButtonVisible","featureMark","TAG","FeatureMark","toggleMark","default","parseDOM","tag","getAttrs","dom","dataset","toDOM","node","props","handleClick","isHighlighted","updateAttrs","template","Mark","EditorContent","EditorMenuBar","EditorMenuBubble","contentPlaceholder","scrollToHighlightedLatLng","mounted","$createEditor","$scrollTo","textMark","container","document","querySelector","offset","$emit","extensions","onUpdate","beforeDestroy","destroy","handleMapClick","latlng","handleFileUpload","handleTrackReady","f","handleFeatureClick","$refs","fileReader","click","accept","onchange","FileReader","fileObj","CsTrackUploadButton","LCircleMarker","LControl","LGeoJson","LMap","LTileLayer","LRectangle","addFeatureMark","csmap","mapObject","fitBounds","getBounds","CsEditor","CsMap","trackBounds","currentRoute","console","log","Router","routes","Landing","StoryScreen","beforeEnter","to","from","next","store","CsLoadStoryForm","router","base","process","beforeEach","afterEach","config","productionTip","directive","VueLogger","VueScrollTo","$notify","render","h","App","$mount"],"mappings":"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","file":"js/app.fd8340b7.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/cartostory-frontend/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CsEditor.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CsEditor.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StoryScreen.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StoryScreen.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',{attrs:{\"id\":\"app\"}},[_c('router-view'),_c('cs-notification'),(_vm.loading)?_c('div',{directives:[{name:\"loading\",rawName:\"v-loading.fullscreen.lock\",value:(_vm.loading),expression:\"loading\",modifiers:{\"fullscreen\":true,\"lock\":true}}]}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\"div\")}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// new mutations\nexport const REMOVE_ERROR = 'REMOVE_ERROR';\nexport const UPDATE_ERRORS = 'UPDATE_ERRORS';\nexport const UPDATE_EDITABLE = 'UPDATE_EDITABLE';\nexport const UPDATE_FEATURE_MARK_CALLBACK = 'UPDATE_FEATURE_MARK_CALLBACK';\nexport const UPDATE_HIGHLIGHTED_LAT_LNG = 'UPDATE_HIGHLIGHTED_LAT_LNG';\nexport const UPDATE_LOADING = 'UPDATE_LOADING';\nexport const UPDATE_MAP_CENTER = 'UPDATE_MAP_CENTER';\nexport const UPDATE_STORY = 'UPDATE_STORY';\nexport const UPDATE_STORY_NAME = 'UPDATE_STORY_NAME';\nexport const UPDATE_STORY_TEXT = 'UPDATE_STORY_TEXT';\nexport const UPDATE_STORY_URL = 'UPDATE_STORY_URL';\nexport const UPDATE_TRACK = 'UPDATE_TRACK';\n\nexport const RESET_HIGHLIGHTED_LINK = 'RESET_HIGHLIGHTED_LINK';\nexport const SET_BBOX = 'SET_BBOX';\nexport const SET_BBOX_HOVERED = 'SET_BBOX_HOVERED';\nexport const SET_FEATURES_URL = 'SET_FEATURES_URL';\nexport const SET_HIGHLIGHTED_FEATURE = 'SET_HIGHLIGHTED_FEATURE';\nexport const SET_SHOULD_SCROLL_TO_FEATURE = 'SET_SHOULD_SCROLL_TO_FEATURE';\nexport const SET_STORY_NAME = 'SET_STORY_NAME';\nexport const SET_STORY_URL = 'SET_STORY_URL';\nexport const SET_TRACK_URL = 'SET_TRACK_URL';\n\n// story mutations\nexport const SET_STORY = 'SET_STORY';\n\n// track mutations\nexport const SET_TRACK = 'SET_TRACK';\n","<script>\nimport { REMOVE_ERROR } from '@/store/mutations';\n\nexport default {\n  name: 'CsNotification',\n  computed: {\n    errors() {\n      this.$store.state.errors.forEach(e => {\n        this.$notify({\n          type: 'error',\n          title: e.title,\n          message: e.message,\n          onClose: () => {\n            this.$store.commit(REMOVE_ERROR, e);\n          },\n          duration: 0,\n        });\n        this.$store.commit(REMOVE_ERROR, e);\n      });\n      return this.$store.state.errors;\n    },\n  },\n  watch: {\n    errors() {\n      return this.errors;\n    },\n  },\n};\n</script>\n\n<template>\n\n</template>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CsNotification.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CsNotification.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CsNotification.vue?vue&type=template&id=7e7718d8&\"\nimport script from \"./CsNotification.vue?vue&type=script&lang=js&\"\nexport * from \"./CsNotification.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\nimport CsNotification from '@/components/CsNotification.vue';\n\nexport default {\n  name: 'app',\n  components: {\n    CsNotification,\n  },\n  computed: {\n    loading() {\n      return this.$store.state.loading;\n    }\n  }\n};\n</script>\n\n<template>\n  <el-container id=\"app\">\n    <router-view/>\n    <cs-notification/>\n    <div\n      v-if=\"loading\"\n      v-loading.fullscreen.lock=\"loading\">\n    </div>\n  </el-container>\n</template>\n\n<style lang=\"scss\">\n  html,\n  body,\n  #screen,\n  #app {\n    height: 100%;\n    overflow-y: hidden;\n    margin: 0;\n    padding: 0;\n  }\n\n  #app {\n    color: #2c3e50;\n  }\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=36f820e4&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-main',[_c('el-row',[_c('el-col',{attrs:{\"span\":10,\"offset\":7}},[_c('h1',[_vm._v(\"Cartostory\")]),_c('el-form',{attrs:{\"label-width\":\"120px\"}},[(_vm.availableStories.length > 0)?_c('el-form-item',{attrs:{\"label\":\"Načíst příběh\"}},[_c('el-select',{attrs:{\"placeholder\":\"Příběh\"},on:{\"change\":_vm.handleStorySelect},model:{value:(_vm.currentStory),callback:function ($$v) {_vm.currentStory=$$v},expression:\"currentStory\"}},_vm._l((_vm.availableStories),function(story){return _c('el-option',{key:story.storyName,attrs:{\"label\":story.storyName,\"value\":story.storyName}})}),1)],1):_vm._e(),_c('el-form-item',{attrs:{\"label\":\"URL příběhu\"}},[_c('el-input',{attrs:{\"type\":\"text\"},model:{value:(_vm.storyUrl),callback:function ($$v) {_vm.storyUrl=$$v},expression:\"storyUrl\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"disabled\":_vm.disabledSubmit,\"type\":\"primary\"},on:{\"click\":_vm.handleSubmit}},[_vm._v(\"Načíst\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport deburr from 'lodash.deburr';\nimport { mapState } from 'vuex';\n\nimport { UPDATE_ERRORS, UPDATE_LOADING, UPDATE_STORY_URL } from '@/store/mutations';\n\nexport default {\n  name: 'CsLoadStoryForm',\n  data() {\n    return {\n      currentStory: undefined,\n    };\n  },\n  computed: {\n    ...mapState({\n      availableStories: state => state.availableStories,\n      storyName: state => state.story.name,\n      storyText: state => state.story.text,\n    }),\n    disabledSubmit() {\n      return !this.storyUrl;\n    },\n    storyUrl: {\n      get() {\n        return this.$store.state.storyUrl;\n      },\n      set(value) {\n        this.$store.commit(UPDATE_STORY_URL, value);\n      },\n    },\n  },\n  methods: {\n    async handleSubmit() {\n      try {\n        await this.$store.dispatch('loadStory');\n        const title = deburr(this.storyName).toLowerCase();\n        this.$router.push(`/story/read/${title}`);\n      } catch (e) {\n        this.$store.commit(UPDATE_ERRORS, {\n          title: 'Příběh se nepodařilo nahrát',\n          message: 'Zkontrolujte jeho adresu.',\n        });\n      } finally {\n        this.$store.commit(UPDATE_LOADING, false);\n      }\n    },\n\n    handleStorySelect() {\n      const story = this.availableStories.find(s => s.storyName === this.currentStory);\n\n      if (story) {\n        this.storyUrl = story.storyUrl;\n      }\n    },\n  },\n};\n</script>\n\n<template>\n  <el-main>\n    <el-row>\n      <el-col :span=\"10\" :offset=\"7\">\n        <h1>Cartostory</h1>\n        <el-form label-width=\"120px\">\n\n          <el-form-item v-if=\"availableStories.length > 0\" label=\"Načíst příběh\">\n            <el-select placeholder=\"Příběh\" v-model=\"currentStory\" @change=\"handleStorySelect\">\n              <el-option\n                v-for=\"story in availableStories\"\n                :key=\"story.storyName\"\n                :label=\"story.storyName\"\n                :value=\"story.storyName\"\n                ></el-option>\n            </el-select>\n          </el-form-item>\n\n          <el-form-item label=\"URL příběhu\">\n            <el-input v-model=\"storyUrl\" type=\"text\"></el-input>\n          </el-form-item>\n\n          <el-form-item>\n            <el-button :disabled=\"disabledSubmit\" type=\"primary\" @click=\"handleSubmit\">Načíst</el-button>\n          </el-form-item>\n\n        </el-form>\n      </el-col>\n    </el-row>\n  </el-main>\n</template>\n\n<style scoped>\nh1 {\n  text-align: center;\n}\n\n.el-form {\n  box-shadow: 0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04);\n  padding: 2rem;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CsLoadStoryForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CsLoadStoryForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CsLoadStoryForm.vue?vue&type=template&id=442b84f5&scoped=true&\"\nimport script from \"./CsLoadStoryForm.vue?vue&type=script&lang=js&\"\nexport * from \"./CsLoadStoryForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CsLoadStoryForm.vue?vue&type=style&index=0&id=442b84f5&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"442b84f5\",\n  null\n  \n)\n\nexport default component.exports","export const SCROLL_CONTAINER_ID = 'story-scrolling-container';\nexport const STORY_LINK_DATA_ID = 'data-cs-id';\nexport const STORY_LINK_LAT_ATTR = 'data-cs-lat';\nexport const STORY_LINK_LNG_ATTR = 'data-cs-lng';\nexport const STORY_LINK_LAT_ATTR_CAMEL = toCamelCase(STORY_LINK_LAT_ATTR);\nexport const STORY_LINK_LNG_ATTR_CAMEL = toCamelCase(STORY_LINK_LNG_ATTR);\nexport const STORY_LINK_CLICK_EVENT = 'mark-click';\nexport const ADD_FEATURE_MARK_EVENT = 'add-feature-mark';\nexport const TRACK_FILE_UPLOAD_EVENT = 'track-file-upload';\n\nfunction toCamelCase(str) {\n  return str\n    .split('-')\n    .map((item, idx) => idx > 0 ? item.slice(0,1).toUpperCase() + item.slice(1) : item)\n    .join('');\n}\n","// https://gist.github.com/rhythnic/6521495650a215ccab8bf7120949fb7d?source=post_page\nconst last = xs => xs[xs.length - 1];\n\nexport const toggle = key => (state) => { state[key] = !state[key]; };\n\nexport const set = key => (state, val) => { state[key] = val; };\n\nexport const getPath = (obj, path) => {\n    return path.reduce((acc, key) =>\n        (acc && acc[key] !== 'undefined') ? acc[key] : undefined, obj);\n}\n\nexport const setPath = path => (state, val) => {\n  const obj = path.slice(0, -1).reduce((acc, x, i) => {\n    if (!(x in acc)) {\n      acc[x] = typeof path[i + 1] === 'number' ? [] : {};\n    }\n    return acc[x];\n  }, state);\n  obj[last(path)] = val;\n};\n","import Vue from 'vue';\nimport Vuex from 'vuex';\nimport axios from 'axios';\nimport chunk from 'lodash.chunk';\nimport mapDeep from 'deepdash-es/mapDeep';\nimport pickDeep from 'deepdash-es/pickDeep';\n\nimport { STORY_LINK_LAT_ATTR, STORY_LINK_LNG_ATTR } from '@/config/config.js';\nimport { set, setPath } from './store.helpers';\nimport {\n  REMOVE_ERROR,\n  UPDATE_EDITABLE,\n  UPDATE_ERRORS,\n  UPDATE_FEATURE_MARK_CALLBACK,\n  UPDATE_HIGHLIGHTED_LAT_LNG,\n  UPDATE_LOADING,\n  UPDATE_MAP_CENTER,\n  UPDATE_STORY,\n  UPDATE_STORY_NAME,\n  UPDATE_STORY_TEXT,\n  UPDATE_STORY_URL,\n  UPDATE_TRACK\n} from '@/store/mutations.js';\n\nVue.use(Vuex);\n\nconst state = {\n  editable: false,\n  errors: [],\n  loading: false,\n  storyUrl: undefined,\n  story: {\n    name: undefined,\n    text: undefined,\n    track: undefined,\n  },\n  addFeatureMarkCallback: undefined,\n  availableStories: [],\n  highlightedLatLng: undefined,\n};\n\nexport const mutations = {\n  [REMOVE_ERROR](state, error) {\n    const idx = state.errors.findIndex(e => e.title === error.title && e.message === error.message);\n    if (idx > -1) {\n      state.errors.splice(idx, 1);\n    }\n  },\n  [UPDATE_EDITABLE]: set('editable'),\n  [UPDATE_ERRORS](state, newErorr) {\n    state.errors = [...state.errors, newErorr];\n  },\n  [UPDATE_FEATURE_MARK_CALLBACK]: set('addFeatureMarkCallback'),\n  [UPDATE_HIGHLIGHTED_LAT_LNG](state, latLng) {\n    state.highlightedLatLng = {\n      lat: Number.parseFloat(latLng[STORY_LINK_LAT_ATTR]),\n      lng: Number.parseFloat(latLng[STORY_LINK_LNG_ATTR]),\n    };\n  },\n  [UPDATE_LOADING]: set('loading'),\n  [UPDATE_MAP_CENTER]: setPath(['map', 'center']),\n  [UPDATE_STORY]: set('story'),\n  [UPDATE_STORY_NAME]: setPath(['story', 'name']),\n  [UPDATE_STORY_TEXT]: setPath(['story', 'text']),\n  [UPDATE_STORY_URL]: set('storyUrl'),\n  [UPDATE_TRACK]: setPath(['story', 'track']),\n};\n\nconst actions = {\n  updateTrack({ commit }, payload) {\n    commit(UPDATE_TRACK, payload);\n  },\n  updateStoryText({ commit }, payload) {\n    commit(UPDATE_STORY_TEXT, payload);\n  },\n  async loadStory({ commit, state }) {\n    commit(UPDATE_LOADING, true);\n    const result = await axios.get(state.storyUrl);\n    commit(UPDATE_STORY, result.data);\n  },\n};\n\nexport const getters = {\n  features: state => {\n    let result = [];\n    let content = undefined;\n\n    if (state.story.text && state.story.text.state) { // editing\n      content = state.story.text.state.doc.content;\n    } else { // readonly\n      content = state.story.text && state.story.text.content;\n    }\n\n    if (content) {\n      const data = JSON.parse(JSON.stringify(content)); // get rid of vuex reactivity or deepdash would fail\n      const features = mapDeep(pickDeep(data, [STORY_LINK_LAT_ATTR, STORY_LINK_LNG_ATTR]), v => v, {\n        leavesOnly: true,\n      }).filter(item => item !== null);\n      result = chunk(features, 2).map(item => ({ lat: item[0], lng: item[1] }));\n    }\n\n    return result;\n  },\n\n  featuresWithoutHighlighted: (state, getters) => {\n    if (!state.highlightedLatLng) {\n      return getters.features;\n    }\n\n    const { lat, lng } = state.highlightedLatLng;\n    return getters.features.filter(feature => feature.lat !== lat && feature.lng !== lng);\n  },\n};\n\nexport default new Vuex.Store({\n  strict: true,\n  getters,\n  state,\n  mutations,\n  actions,\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-main',[_c('el-col',{attrs:{\"span\":10,\"offset\":7}},[_c('el-row',[_c('h1',[_vm._v(\"Cartostory\")])]),_c('el-row',[_c('el-col',{staticClass:\"section\",attrs:{\"span\":12}},[_c('h2',[_vm._v(\"Napsat příběh\")]),_c('p',[_vm._v(\"Chcete napsat svůj vlastní příběh? Z prázdnin, dovolené nebo jen zajímavého sobotního\\n          výletu?\")]),_c('el-button',{on:{\"click\":function($event){return _vm.$router.push('/story/create')}}},[_vm._v(\"Chci psát\")])],1),_c('el-col',{staticClass:\"section\",attrs:{\"span\":12}},[_c('h2',[_vm._v(\"Číst příběh\")]),_c('p',[_vm._v(\"Váš kamarád nebo příbuzný napsal příběh a poslal vám jeho adresu? Můžete si ho přečíst.\")]),_c('el-button',{on:{\"click\":function($event){return _vm.$router.push('/story/load')}}},[_vm._v(\"Chci číst\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nexport default {\n  name: 'Landing',\n}\n</script>\n\n<template>\n  <el-main>\n    <el-col :span=\"10\" :offset=\"7\">\n      <el-row>\n        <h1>Cartostory</h1>\n      </el-row>\n      <el-row>\n        <el-col class=\"section\" :span=\"12\">\n          <h2>Napsat příběh</h2>\n          <p>Chcete napsat svůj vlastní příběh? Z&nbsp;prázdnin, dovolené nebo jen zajímavého sobotního\n            výletu?</p>\n          <el-button @click=\"$router.push('/story/create')\">Chci psát</el-button>\n        </el-col>\n        <el-col class=\"section\" :span=\"12\">\n          <h2>Číst příběh</h2>\n          <p>Váš kamarád nebo příbuzný napsal příběh a poslal vám jeho adresu? Můžete si ho přečíst.</p>\n          <el-button @click=\"$router.push('/story/load')\">Chci číst</el-button>\n        </el-col>\n      </el-row>\n    </el-col>\n  </el-main>\n</template>\n\n<style lang=\"scss\" scoped>\nh1,\nh2 {\n  text-align: center;\n}\n\nh2 {\n  flex: 1 0 100%;\n}\n\n.section {\n  display: flex;\n  flex-direction: column;\n  flex-wrap: wrap;\n  justify-content: center;\n}\n\n.section:first-child {\n  border-right: 1px solid #F56C6C;\n  padding-right: 1rem;\n}\n\n.section:last-child {\n  padding-left: 1rem;\n}\n\n.section:last-child p {\n  flex: 1 0 auto;\n}\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Landing.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Landing.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Landing.vue?vue&type=template&id=71137e5c&scoped=true&\"\nimport script from \"./Landing.vue?vue&type=script&lang=js&\"\nexport * from \"./Landing.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Landing.vue?vue&type=style&index=0&id=71137e5c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"71137e5c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',{staticClass:\"story-form\"},[_c('el-col',{attrs:{\"span\":12}},[_c('cs-map')],1),_c('el-col',{staticClass:\"story-form__story\",attrs:{\"span\":12}},[(_vm.$store.state.story.text || _vm.ready)?_c('cs-editor',{staticStyle:{\"flex\":\"1\",\"overflow\":\"auto\"},on:_vm._d({},[_vm.ADD_FEATURE_MARK_EVENT,function($event){return _vm.handleAddFeatureMarkClick($event)}])}):_vm._e(),(_vm.editable)?_c('el-footer',{staticStyle:{\"margin\":\"auto\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSave}},[_vm._v(\"Uložit\")])],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const mapOptions = {\n  bounds: undefined,\n  center: [50, 19],\n  baseLayer: 'https://api.mapbox.com/styles/v1/cartostory/cjugqcypf27581gnry4y59lxy/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoiY2FydG9zdG9yeSIsImEiOiJjanQycXVyZDcxeXZqM3lxeDNvcW81NWJpIn0.hfvoqNSy7dT0yviVhNcDMg',\n  hikingOverlay: 'http://tile.mtbmap.cz/overlay_hiking/{z}/{x}/{y}.png',\n  labelsOverlay: 'https://api.mapbox.com/styles/v1/cartostory/cjugqfe8r1lhh1ftgrmr7v9zj/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoiY2FydG9zdG9yeSIsImEiOiJjanQycXVyZDcxeXZqM3lxeDNvcW81NWJpIn0.hfvoqNSy7dT0yviVhNcDMg',\n  zoom: 8,\n  edgeMarker: undefined,\n};\n\nexport const markerOptions = {\n  style: {\n    common: {\n      radius: 8,\n      weight: 1.5,\n    },\n    highlighted: {\n      color: '#F56C6C',\n      opacity: 1,\n      fillOpacity: 0.4,\n    },\n    inBbox: {\n      color: '#42b983',\n      fillOpacity: 0.5,\n    },\n    plain: {\n      color: '#3185fc',\n      fillOpacity: 0.5,\n    },\n    edge: {\n      icon: L.icon({\n        iconUrl: '../../node_modules/leaflet/dist/images/marker-icon.png',\n        iconRetinaUrl: 'marker-icon-2x.png',\n        shadowUrl:     'marker-shadow.png',\n        iconSize:    [25, 41],\n        iconAnchor:  [12, 41],\n        popupAnchor: [1, -34],\n        tooltipAnchor: [16, -28],\n        shadowSize:  [0, 0],\n      }),\n    },\n  },\n};\n\nexport const bboxOptions = {\n  hovered: {\n    style: {\n      color: '#5a5a66',\n      fillColor: '#5a5a66',\n      dashArray: '5',\n      weight: 2\n    }\n  },\n  selected: {\n    style: {\n      color: '#42b983',\n      fillColor: '#42b983',\n      fillOpacity: 0,\n      dashArray: '5',\n      weight: 2\n    }\n  }\n};\n\nexport const trackOptions = {\n  style: {\n    plain: {\n      color: '#5a5a66',\n        dashArray: '6',\n    },\n      inBbox: {\n        color: '#42b983',\n          dashArray: '6',\n      },\n  },\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-col',{staticStyle:{\"flex\":\"1 1 0%\",\"overflow\":\"hidden\",\"display\":\"flex\",\"flex-wrap\":\"wrap\",\"flex-direction\":\"column\"}},[(_vm.editable)?_c('el-form',[_c('el-form-item',[_c('el-input',{staticClass:\"story-name\",attrs:{\"placeholder\":\"Název příběhu...\"},model:{value:(_vm.storyName),callback:function ($$v) {_vm.storyName=$$v},expression:\"storyName\"}})],1)],1):_vm._e(),(!_vm.editable)?_c('h1',{staticClass:\"is-title-1\"},[_vm._v(_vm._s(_vm.storyName))]):_vm._e(),(_vm.editable)?_c('editor-menu-bar',{staticStyle:{\"background\":\"white\"},attrs:{\"editor\":_vm.editor},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar commands = ref.commands;\nvar isActive = ref.isActive;\nreturn [_c('div',{staticClass:\"editor-menu-bar\"},[_c('el-button',{staticClass:\"menubar__button\",class:{ 'is-active': isActive.heading({ level: 2 }) },attrs:{\"title\":\"Nadpis 1. úrovně\",\"size\":\"mini\",\"type\":\"plain\"},on:{\"click\":function($event){return commands.heading({ level: 2 })}}},[_vm._v(\"\\n        H1\\n      \")]),_c('el-button',{staticClass:\"menubar__button\",class:{ 'is-active': isActive.heading({ level: 3 }) },attrs:{\"title\":\"Nadpis 2. úrovně\",\"size\":\"mini\",\"type\":\"plain\"},on:{\"click\":function($event){return commands.heading({ level: 3 })}}},[_vm._v(\"\\n        H2\\n      \")]),_c('el-button',{staticClass:\"menubar__button\",class:{ 'is-active': isActive.heading({ level: 4 }) },attrs:{\"title\":\"Nadpis 3. úrovně\",\"size\":\"mini\",\"type\":\"plain\"},on:{\"click\":function($event){return commands.heading({ level: 4 })}}},[_vm._v(\"\\n        H3\\n      \")])],1)]}}],null,false,2683553699)}):_vm._e(),(_vm.editable)?_c('editor-menu-bubble',{attrs:{\"editor\":_vm.editor,\"keep-in-bounds\":_vm.keepInBounds},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar commands = ref.commands;\nvar getMarkAttrs = ref.getMarkAttrs;\nvar isActive = ref.isActive;\nvar menu = ref.menu;\nreturn [_c('div',{staticClass:\"menububble\",class:{ 'is-active': menu.isActive },style:((\"left: \" + (menu.left) + \"px; bottom: \" + (menu.bottom) + \"px;\"))},[(!_vm.isNewFeatureMarkButtonVisible(getMarkAttrs('featureMark')))?_c('el-button',{staticClass:\"menububble__button\",class:{ 'is-active': isActive.featureMark() },attrs:{\"icon\":\"el-icon-location-outline\"},on:{\"click\":function($event){return _vm.handleAddFeatureMarkClick(commands.featureMark)}}}):_vm._e(),(_vm.isNewFeatureMarkButtonVisible(getMarkAttrs('featureMark')))?_c('el-button',{staticClass:\"menububble__button\",class:{ 'is-active': isActive.featureMark() },attrs:{\"icon\":\"el-icon-delete-location\"},on:{\"click\":function($event){return commands.featureMark()}}}):_vm._e()],1)]}}],null,false,2757025300)}):_vm._e(),(_vm.editor)?_c('editor-content',{staticClass:\"editor\",class:{'editable': this.editable},staticStyle:{\"flex\":\"1\",\"overflow\":\"auto\"},attrs:{\"editor\":_vm.editor}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { Mark } from 'tiptap';\nimport { toggleMark } from 'tiptap-commands';\n\nimport {\n  STORY_LINK_LAT_ATTR,\n  STORY_LINK_LAT_ATTR_CAMEL,\n  STORY_LINK_LNG_ATTR,\n  STORY_LINK_LNG_ATTR_CAMEL\n} from '@/config/config.js';\n\nimport { UPDATE_HIGHLIGHTED_LAT_LNG } from '@/store/mutations.js';\n\nconst TAG = 'a';\n\nexport default class FeatureMark extends Mark {\n  get name() {\n    return 'featureMark';\n  }\n\n  get schema() {\n    return {\n      attrs: {\n        [STORY_LINK_LAT_ATTR]: {\n          default: null,\n        },\n        [STORY_LINK_LNG_ATTR]: {\n          default: null,\n        },\n      },\n      parseDOM: [{\n        tag: TAG,\n        getAttrs(dom) {\n          return {\n            [STORY_LINK_LAT_ATTR]: dom.dataset[STORY_LINK_LAT_ATTR],\n            [STORY_LINK_LNG_ATTR]: dom.dataset[STORY_LINK_LNG_ATTR],\n          };\n        },\n      }],\n      toDOM: (node) =>{\n        return [TAG, {\n          [STORY_LINK_LAT_ATTR]: node.attrs[STORY_LINK_LAT_ATTR],\n          [STORY_LINK_LNG_ATTR]: node.attrs[STORY_LINK_LNG_ATTR],\n        }, 0];\n      },\n    }\n  }\n\n  commands({ type }) {\n    return (attrs) => {\n      return toggleMark(type, {\n          [STORY_LINK_LAT_ATTR]: attrs && attrs[STORY_LINK_LAT_ATTR],\n          [STORY_LINK_LNG_ATTR]: attrs && attrs[STORY_LINK_LNG_ATTR],\n      });\n    };\n  }\n\n  get view() {\n    return {\n      // there are some props available\n      // `node` is a Prosemirror Node Object\n      // `updateAttrs` is a function to update attributes defined in `schema`\n      // `view` is the ProseMirror view instance\n      // `options` is an array of your extension options\n      // `selected` is a boolean which is true when selected\n      // `editor` is a reference to the TipTap editor instance\n      // `getPos` is a function to retrieve the start position of the node\n      // `decorations` is an array of decorations around the node\n      props: ['node', 'updateAttrs', 'view'],\n      methods: {\n        handleClick() {\n          const payload = {\n            [STORY_LINK_LAT_ATTR]: this[STORY_LINK_LAT_ATTR_CAMEL],\n            [STORY_LINK_LNG_ATTR]: this[STORY_LINK_LNG_ATTR_CAMEL],\n          };\n          this.$store.commit(UPDATE_HIGHLIGHTED_LAT_LNG, payload);\n        }\n      },\n      computed: {\n        isHighlighted() {\n          if (!this.$store.state.highlightedLatLng) {\n            return false;\n          }\n          const { lat, lng } = this.$store.state.highlightedLatLng;\n          return lat === this[STORY_LINK_LAT_ATTR_CAMEL] && lng === this[STORY_LINK_LNG_ATTR_CAMEL];\n        },\n        [STORY_LINK_LAT_ATTR_CAMEL]: {\n          get() {\n            return this.node.attrs[STORY_LINK_LAT_ATTR]\n          },\n          set(lat) {\n            this.updateAttrs({\n              [STORY_LINK_LAT_ATTR]: lat,\n            })\n          },\n        },\n        [STORY_LINK_LNG_ATTR_CAMEL]: {\n          get() {\n            return this.node.attrs[STORY_LINK_LNG_ATTR]\n          },\n          set(lng) {\n            this.updateAttrs({\n              [STORY_LINK_LNG_ATTR]: lng,\n            })\n          },\n        },\n      },\n      template: `\n        <a\n          :class=\"{'is-highlighted': isHighlighted}\"\n          :${STORY_LINK_LNG_ATTR}=\"${STORY_LINK_LNG_ATTR_CAMEL}\"\n          :${STORY_LINK_LAT_ATTR}=\"${STORY_LINK_LAT_ATTR_CAMEL}\"\n          @click=\"handleClick()\"\n        >\n        </a>\n      `,\n    }\n  }\n}\n\n","<script>\nimport { Editor, EditorContent, EditorMenuBar, EditorMenuBubble } from 'tiptap';\nimport { Heading } from 'tiptap-extensions';\nimport { mapState } from 'vuex';\n\nimport FeatureMark from '@/components/editor/FeatureMark';\nimport { ADD_FEATURE_MARK_EVENT, STORY_LINK_LAT_ATTR, STORY_LINK_LNG_ATTR } from '@/config/config.js'\nimport { UPDATE_STORY_NAME, UPDATE_STORY_TEXT } from '@/store/mutations.js';\n\nexport default {\n  name: 'CsEditor',\n  components: {\n    EditorContent,\n    EditorMenuBar,\n    EditorMenuBubble,\n  },\n  data() {\n    return {\n      contentPlaceholder: 'Můžete začít psát...',\n      editor: undefined,\n      keepInBounds: true,\n    };\n  },\n  computed: {\n    ...mapState({\n      editable: state => state.editable,\n      highlightedLatLng: state => state.highlightedLatLng,\n    }),\n    storyName: {\n      get() {\n        return this.$store.state.story.name;\n      },\n      set(value) {\n        this.$store.commit(UPDATE_STORY_NAME, value);\n      },\n    },\n  },\n  watch: {\n    highlightedLatLng() {\n      this.scrollToHighlightedLatLng();\n    }\n  },\n  mounted() {\n    this.editor = this.$createEditor();\n  },\n  methods: {\n    /*\n     * Scrolls to the highlighted feature mark.\n     */\n    scrollToHighlightedLatLng() {\n      const { lat, lng } = this.highlightedLatLng;\n      const textMark = document.querySelector(`[${STORY_LINK_LAT_ATTR}='${lat}'], [${STORY_LINK_LNG_ATTR}='${lng}']`);\n\n      this.$scrollTo(textMark, undefined, {\n        container: document.querySelector('.editor'),\n        offset: -50,\n      });\n    },\n\n    /*\n     * Checks if selected text already has the feature mark on the map.\n     * It renders remove button if true or add button otherwise.\n     * @param {object} selected text attributes\n     * @returns {boolean}\n     */\n    isNewFeatureMarkButtonVisible(attrs) {\n      return attrs && attrs[STORY_LINK_LAT_ATTR];\n    },\n\n    handleAddFeatureMarkClick(fn) {\n      this.$emit(ADD_FEATURE_MARK_EVENT, fn);\n    },\n\n    $createEditor() {\n      return new Editor({\n        editable: this.editable,\n        extensions: [\n          new FeatureMark(),\n          new Heading({\n            levels: [2, 3, 4], // leave <h1> for the story title\n          }),\n        ],\n        content: this.$store.state.story.text || this.contentPlaceholder,\n        onUpdate: function(payload) {\n          this.$store.commit(UPDATE_STORY_TEXT, payload);\n        }.bind(this),\n      });\n    },\n  },\n\n  beforeDestroy() {\n    this.editor.destroy();\n  },\n}\n</script>\n\n<template>\n  <el-col style=\"flex: 1 1 0%; overflow: hidden; display: flex; flex-wrap: wrap; flex-direction: column;\">\n\n    <el-form v-if=\"editable\">\n      <el-form-item>\n        <el-input class=\"story-name\" v-model=\"storyName\" placeholder=\"Název příběhu...\"></el-input>\n      </el-form-item>\n    </el-form>\n\n    <h1 class=\"is-title-1\" v-if=\"!editable\">{{ storyName }}</h1>\n\n    <editor-menu-bar v-if=\"editable\" style=\"background: white;\" :editor=\"editor\" v-slot=\"{ commands, isActive }\">\n      <div class=\"editor-menu-bar\">\n        <el-button\n          title=\"Nadpis 1. úrovně\"\n          size=\"mini\"\n          type=\"plain\"\n          class=\"menubar__button\"\n          :class=\"{ 'is-active': isActive.heading({ level: 2 }) }\"\n          @click=\"commands.heading({ level: 2 })\">\n          H1\n        </el-button>\n\n        <el-button\n          title=\"Nadpis 2. úrovně\"\n          size=\"mini\"\n          type=\"plain\"\n          class=\"menubar__button\"\n          :class=\"{ 'is-active': isActive.heading({ level: 3 }) }\"\n          @click=\"commands.heading({ level: 3 })\">\n          H2\n        </el-button>\n\n        <el-button\n          title=\"Nadpis 3. úrovně\"\n          size=\"mini\"\n          type=\"plain\"\n          class=\"menubar__button\"\n          :class=\"{ 'is-active': isActive.heading({ level: 4 }) }\"\n          @click=\"commands.heading({ level: 4 })\">\n          H3\n        </el-button>\n      </div>\n    </editor-menu-bar>\n\n    <editor-menu-bubble v-if=\"editable\" :editor=\"editor\" :keep-in-bounds=\"keepInBounds\" v-slot=\"{ commands, getMarkAttrs, isActive, menu }\">\n      <div\n        class=\"menububble\"\n        :class=\"{ 'is-active': menu.isActive }\"\n        :style=\"`left: ${menu.left}px; bottom: ${menu.bottom}px;`\">\n\n        <el-button\n          v-if=\"!isNewFeatureMarkButtonVisible(getMarkAttrs('featureMark'))\"\n          class=\"menububble__button\"\n          :class=\"{ 'is-active': isActive.featureMark() }\"\n          @click=\"handleAddFeatureMarkClick(commands.featureMark)\"\n          icon=\"el-icon-location-outline\"\n          ></el-button>\n\n          <el-button\n            v-if=\"isNewFeatureMarkButtonVisible(getMarkAttrs('featureMark'))\"\n            class=\"menububble__button\"\n            :class=\"{ 'is-active': isActive.featureMark() }\"\n            @click=\"commands.featureMark()\"\n            icon=\"el-icon-delete-location\"\n            ></el-button>\n\n      </div>\n    </editor-menu-bubble>\n\n    <editor-content :class=\"{'editable': this.editable}\" style=\"flex: 1; overflow: auto;\" v-if=\"editor\" class=\"editor\" :editor=\"editor\" />\n  </el-col>\n</template>\n\n<style lang=\"scss\">\n.editor-menu-bar {\n  margin-left: 1rem;\n}\n\n.is-title-1 {\n  margin-left: 1rem;\n  margin-right: 1rem;\n}\n\n.is-title-1,\n.el-form {\n  flex: 0;\n  margin-top: 1rem;\n  padding-left: 1rem;\n  padding-right: 1rem;\n}\n\n.is-title-1,\n.story-name .el-input__inner {\n  border: 0;\n  border-radius: 0;\n  border-bottom: 1px solid gray;\n  font-size: 3rem;\n  height: 4rem;\n  line-height: 3.5rem;\n}\n\n.editor {\n  margin-bottom: 1rem;\n  margin-left: 1rem;\n  margin-right: 1rem;\n  margin-top: 0rem;\n  padding-left: .5rem;\n  padding-right: .5rem;\n}\n\n.editor.editable {\n  border: 1px dotted #F56C6C;\n  margin-top: 1rem;\n}\n\n.ProseMirror-focused {\n  outline: none;\n}\n\n.menububble {\n  position: absolute;\n  display: flex;\n  z-index: 20;\n  background: black;\n  background: #F56C6C;\n  border-radius: 5px;\n  padding: 0.3rem;\n  margin-bottom: 0.5rem;\n  transform: translateX(-50%);\n  visibility: hidden;\n  opacity: 0;\n  transition: opacity 0.2s, visibility 0.2s;\n\n  &.is-active {\n    opacity: 1;\n    visibility: visible;\n  }\n\n  &__button {\n    display: inline-flex;\n    background-color: transparent;\n    border: 0;\n    color: white !important;\n    padding: 0.2rem 0.5rem;\n    margin-right: 0.2rem;\n    border-radius: 3px;\n    cursor: pointer;\n\n    &:hover,\n    &:focus,\n    &.is-active {\n      background-color: rgba(255, 255, 255, 0.2) !important;\n    }\n\n    &:focus::after {\n      content: 'Klikněte do mapy';\n      font-size: 8px;\n      line-height: 14px;\n    }\n\n    &:last-child {\n      margin-right: 0;\n    }\n  }\n\n  &__form {\n    display: flex;\n    align-items: center;\n  }\n\n  &__input {\n    font: inherit;\n    border: none;\n    background: transparent;\n    color: white;\n  }\n}\n\na[data-cs-lng].is-highlighted {\n  background: #F56C6C;\n  color: white;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CsEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CsEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CsEditor.vue?vue&type=template&id=5d3df026&\"\nimport script from \"./CsEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./CsEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CsEditor.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cs-map\"},[_c('div',{attrs:{\"id\":\"cs-map-container\"}},[_c('l-map',{ref:\"csmap\",attrs:{\"center\":_vm.highlightedLatLng || _vm.mapOptions.center,\"zoom\":_vm.mapOptions.zoom},on:{\"click\":function($event){return _vm.handleMapClick($event.latlng)}}},[_c('l-control',{staticClass:\"leaflet-bar leaflet-control\",attrs:{\"position\":\"topleft\"}},[(_vm.editable)?_c('cs-track-upload-button',{on:_vm._d({},[_vm.TRACK_FILE_UPLOAD_EVENT,function($event){return _vm.handleFileUpload($event)}])}):_vm._e()],1),_c('l-tile-layer',{attrs:{\"url\":_vm.mapOptions.baseLayer}}),_c('l-tile-layer',{attrs:{\"url\":_vm.mapOptions.hikingOverlay,\"layer-type\":\"overlay\",\"opacity\":0.7}}),_c('l-tile-layer',{attrs:{\"url\":_vm.mapOptions.labelsOverlay,\"layer-type\":\"overlay\"}}),(_vm.track)?_c('l-geo-json',{ref:\"cstrack\",attrs:{\"geojson\":_vm.track,\"options\":_vm.trackOptions.style.plain},on:{\"ready\":function($event){return _vm.handleTrackReady($event)}}}):_vm._e(),_vm._l((_vm.featuresWithoutHighlighted),function(f){return _c('l-circle-marker',{attrs:{\"color\":_vm.markerOptions.style.plain.color,\"fill-color\":_vm.markerOptions.style.plain.color,\"fill-opacity\":_vm.markerOptions.style.plain.fillOpacity,\"latLng\":f,\"radius\":_vm.markerOptions.style.common.radius,\"weight\":_vm.markerOptions.style.common.weight},on:{\"click\":_vm.handleFeatureClick}})}),(_vm.highlightedLatLng)?_c('l-circle-marker',{attrs:{\"color\":_vm.markerOptions.style.highlighted.color,\"fill-color\":_vm.markerOptions.style.highlighted.color,\"fill-opacity\":_vm.markerOptions.style.highlighted.fillOpacity,\"latLng\":_vm.highlightedLatLng,\"radius\":_vm.markerOptions.style.common.radius,\"weight\":_vm.markerOptions.style.common.weight},on:{\"click\":_vm.handleFeatureClick}}):_vm._e()],2)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('file-reader',{staticStyle:{\"height\":\"30px\",\"width\":\"30px\",\"line-height\":\"30px\"},attrs:{\"accept\":\".json\",\"output\":\"text\"},on:{\"reader-load\":_vm.handleFileUpload},scopedSlots:_vm._u([{key:\"reader\",fn:function(props){return [_c('el-button',{staticClass:\"file-upload-button\",attrs:{\"title\":\"Nahrát soubor trasy\",\"size\":\"mini\",\"type\":\"plain\",\"icon\":\"el-icon-upload\"},on:{\"click\":function($event){return _vm.$refs.fileReader.click()}}}),_c('input',{ref:\"fileReader\",staticStyle:{\"visibility\":\"hidden\"},attrs:{\"type\":\"file\",\"accept\":props.accept},on:{\"change\":props.onchange}})]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport FileReader from 'vue-filereader';\n\nimport { TRACK_FILE_UPLOAD_EVENT } from '@/config/config';\nimport { UPDATE_ERRORS } from '@/store/mutations';\n\nexport default {\n  name: 'CsTrackUploadButton',\n  components: {\n    FileReader,\n  },\n  methods: {\n    handleFileUpload(fileObj) {\n      try {\n        this.$emit(TRACK_FILE_UPLOAD_EVENT, fileObj && JSON.parse(fileObj.data));\n      } catch(e) {\n        this.$store.commit(UPDATE_ERRORS, {\n          title: 'Selhalo nahrání trasy',\n          message: 'Trasu se nepodařilo nahrát. Soubor pravděpodobně není validní.',\n        });\n      }\n    },\n  },\n}\n</script>\n\n<template>\n  <file-reader style=\"height: 30px; width: 30px; line-height: 30px;\"\n    accept=\".json\"\n    output=\"text\"\n    @reader-load=\"handleFileUpload\"\n    >\n    <template #reader=\"props\">\n\n    <el-button\n      class=\"file-upload-button\"\n      @click=\"$refs.fileReader.click()\"\n      title=\"Nahrát soubor trasy\"\n      size=\"mini\"\n      type=\"plain\"\n      icon=\"el-icon-upload\"\n      ></el-button>\n\n      <input\n        style=\"visibility: hidden\"\n        ref=\"fileReader\"\n        type=\"file\"\n        :accept=\"props.accept\"\n        @change=\"props.onchange\"\n        />\n    </template>\n  </file-reader>\n</template>\n\n<style lang=\"scss\">\n.file-upload-button {\n  border-radius: 0;\n  height: 30px;\n  line-height: 30px;\n  padding-left: 0px;\n  padding-right: 0px;\n  padding-top: 0px;\n  text-align: center;\n  width: 30px;\n}\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CsTrackUploadButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CsTrackUploadButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CsTrackUploadButton.vue?vue&type=template&id=a5cd1464&\"\nimport script from \"./CsTrackUploadButton.vue?vue&type=script&lang=js&\"\nexport * from \"./CsTrackUploadButton.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CsTrackUploadButton.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\nimport { LCircleMarker, LControl, LGeoJson, LMap, LTileLayer, LRectangle } from 'vue2-leaflet';\nimport { mapGetters, mapState } from 'vuex';\nrequire('../../node_modules/leaflet/dist/leaflet.css');\n\nimport { STORY_LINK_CLICK_EVENT, STORY_LINK_LAT_ATTR, STORY_LINK_LNG_ATTR, TRACK_FILE_UPLOAD_EVENT } from '@/config/config.js'\nimport { bboxOptions, markerOptions, mapOptions, trackOptions } from '@/config/map.js';\nimport { UPDATE_HIGHLIGHTED_LAT_LNG, UPDATE_FEATURE_MARK_CALLBACK, UPDATE_TRACK } from '@/store/mutations.js';\nimport CsTrackUploadButton from '@/components/CsTrackUploadButton';\n\nexport default {\n  name: 'CsMap',\n  components: {\n    CsTrackUploadButton,\n    LCircleMarker,\n    LControl,\n    LGeoJson,\n    LMap,\n    LTileLayer,\n    LRectangle,\n  },\n  data() {\n    return {\n      STORY_LINK_CLICK_EVENT,\n      TRACK_FILE_UPLOAD_EVENT,\n      addFeatureMark: undefined,\n      markerOptions,\n      mapOptions,\n      trackOptions,\n    };\n  },\n  computed: {\n    ...mapState({\n      editable: state => state.editable,\n      highlightedLatLng :state => state.highlightedLatLng,\n      track: state => state.story.track,\n    }),\n    ...mapGetters([\n      'features',\n      'featuresWithoutHighlighted',\n    ]),\n  },\n  methods: {\n    /*\n     * @param {L.geoJSON}\n     */\n    handleTrackReady(track) {\n      this.$refs.csmap.mapObject.fitBounds(track.getBounds());\n    },\n\n    /*\n     * Sets feature mark that should be highlighted and scrolled to in the text.\n     */\n    handleFeatureClick(event) {\n      const { lat, lng } = event.latlng;\n      const textMark = document.querySelector(`[data-cs-lat='${lat}'], [data-cs-lng='${lng}']`);\n\n      if (!textMark) {\n        return;\n      }\n\n      this.$store.commit(UPDATE_HIGHLIGHTED_LAT_LNG, {\n        [STORY_LINK_LAT_ATTR]: textMark.getAttribute([STORY_LINK_LAT_ATTR]),\n        [STORY_LINK_LNG_ATTR]: textMark.getAttribute([STORY_LINK_LNG_ATTR]),\n      });\n    },\n\n    /*\n     * Links the position to the selected text.\n     * @param {object}\n     */\n    handleMapClick(latLng) {\n      const addFeatureMark = this.$store.state.addFeatureMarkCallback;\n      if (!addFeatureMark || typeof addFeatureMark !== 'function') {\n        return;\n      }\n\n      addFeatureMark({\n        [STORY_LINK_LAT_ATTR]: latLng.lat,\n        [STORY_LINK_LNG_ATTR]: latLng.lng,\n      });\n      // this.features = [...this.features, latLng];\n      this.$store.commit(UPDATE_FEATURE_MARK_CALLBACK, undefined);\n    },\n\n    /*\n     * @param {object} geojson data\n     */\n    handleFileUpload(data) {\n      this.$store.commit(UPDATE_TRACK, data);\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"cs-map\">\n    <div id=\"cs-map-container\">\n      <l-map @click=\"handleMapClick($event.latlng)\" :center=\"highlightedLatLng || mapOptions.center\" :zoom=\"mapOptions.zoom\" ref=\"csmap\">\n        <l-control class=\"leaflet-bar leaflet-control\" position=\"topleft\" >\n          <cs-track-upload-button v-if=\"editable\" @[TRACK_FILE_UPLOAD_EVENT]=\"handleFileUpload($event)\" />\n        </l-control>\n\n        <l-tile-layer :url=\"mapOptions.baseLayer\" />\n        <l-tile-layer :url=\"mapOptions.hikingOverlay\" layer-type=\"overlay\" :opacity=\"0.7\" />\n        <l-tile-layer :url=\"mapOptions.labelsOverlay\" layer-type=\"overlay\" />\n\n        <l-geo-json @ready=\"handleTrackReady($event)\" v-if=\"track\" :geojson=\"track\" :options=\"trackOptions.style.plain\" ref=\"cstrack\" />\n\n        <l-circle-marker\n          @click=\"handleFeatureClick\"\n          :color=\"markerOptions.style.plain.color\"\n          :fill-color=\"markerOptions.style.plain.color\"\n          :fill-opacity=\"markerOptions.style.plain.fillOpacity\"\n          :latLng=\"f\"\n          :radius=\"markerOptions.style.common.radius\"\n          :weight=\"markerOptions.style.common.weight\"\n          v-for=\"f in featuresWithoutHighlighted\">\n        </l-circle-marker>\n\n        <l-circle-marker\n          v-if=\"highlightedLatLng\"\n          @click=\"handleFeatureClick\"\n          :color=\"markerOptions.style.highlighted.color\"\n          :fill-color=\"markerOptions.style.highlighted.color\"\n          :fill-opacity=\"markerOptions.style.highlighted.fillOpacity\"\n          :latLng=\"highlightedLatLng\"\n          :radius=\"markerOptions.style.common.radius\"\n          :weight=\"markerOptions.style.common.weight\">\n        </l-circle-marker>\n\n      </l-map>\n    </div>\n  </div>\n</template>\n\n<style>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CsMap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CsMap.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CsMap.vue?vue&type=template&id=31ea561d&\"\nimport script from \"./CsMap.vue?vue&type=script&lang=js&\"\nexport * from \"./CsMap.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\nimport { LCircleMarker, LControl, LGeoJson, LMap, LTileLayer, LRectangle } from 'vue2-leaflet';\nrequire('../../node_modules/leaflet/dist/leaflet.css');\n\nimport { ADD_FEATURE_MARK_EVENT, STORY_LINK_CLICK_EVENT, STORY_LINK_LAT_ATTR, STORY_LINK_LNG_ATTR, TRACK_FILE_UPLOAD_EVENT } from '@/config/config.js'\nimport { UPDATE_FEATURE_MARK_CALLBACK, UPDATE_STORY_NAME } from '@/store/mutations.js';\nimport { bboxOptions, markerOptions, mapOptions, trackOptions } from '@/config/map.js';\nimport CsEditor from '@/components/CsEditor';\nimport CsMap from '@/components/CsMap';\n\nexport default {\n  name: 'story-screen',\n  components: {\n    CsEditor,\n    LCircleMarker,\n    LControl,\n    LGeoJson,\n    LMap,\n    LTileLayer,\n    LRectangle,\n    CsMap,\n  },\n  data() {\n    return {\n      storyName: undefined,\n      ready: false,\n      ADD_FEATURE_MARK_EVENT,\n      STORY_LINK_CLICK_EVENT,\n      TRACK_FILE_UPLOAD_EVENT,\n      features: [],\n      track: undefined,\n      trackBounds: undefined,\n      addFeatureMark: undefined,\n      markerOptions,\n      mapOptions,\n      trackOptions,\n    };\n  },\n  computed: {\n    editable() {\n      return this.$store.state.editable;\n    },\n  },\n  mounted() {\n    this.ready = this.$router.currentRoute.path === '/story/create';\n  },\n  methods: {\n    /*\n     * Stores provided function to be called later when user clicks location on the map.\n     * @param {Function} tiptap featureMark create function\n     */\n    handleAddFeatureMarkClick(fn) {\n      this.$store.commit(UPDATE_FEATURE_MARK_CALLBACK, fn);\n    },\n\n    handleSave() {\n      const result = {\n        name: this.$store.state.story.name,\n        text: this.$store.state.story.text,\n        track: this.$store.state.story.track,\n      };\n      console.log('handleSave', result);\n    },\n  },\n};\n</script>\n<template>\n  <el-container class=\"story-form\">\n    <el-col :span=\"12\">\n      <cs-map></cs-map>\n    </el-col>\n\n    <el-col class=\"story-form__story\" :span=\"12\">\n      <cs-editor\n        v-if=\"$store.state.story.text || ready\"\n        @[ADD_FEATURE_MARK_EVENT]=\"handleAddFeatureMarkClick($event)\"\n        style=\"flex: 1; overflow: auto;\"\n      ></cs-editor>\n      <el-footer v-if=\"editable\" style=\"margin: auto;\">\n        <el-button @click=\"handleSave\" type=\"primary\">Uložit</el-button>\n      </el-footer>\n    </el-col>\n  </el-container>\n</template>\n\n<!-- don't scope to overwrite element ui -->\n<style lang=\"scss\">\n.cs-map {\n  height: 100%;\n}\n\na[data-cs-lat] {\n  color: #F56C6C;\n  cursor: pointer;\n  text-decoration: underline;\n}\n\n#cs-map-container {\n  width: auto;\n  height: 100%;\n  position: relative;\n}\n\n.story-form__story {\n  display: flex;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  align-content: flex-start;\n  flex-direction: column;\n}\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StoryScreen.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StoryScreen.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StoryScreen.vue?vue&type=template&id=466ec58e&\"\nimport script from \"./StoryScreen.vue?vue&type=script&lang=js&\"\nexport * from \"./StoryScreen.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StoryScreen.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport Router from 'vue-router';\n\nimport CsLoadStoryForm from './components/CsLoadStoryForm.vue';\nimport store from '@/store/newStore';\nimport { UPDATE_EDITABLE, UPDATE_LOADING } from '@/store/mutations';\nimport Landing from '@/views/Landing.vue';\nimport StoryScreen from '@/views/StoryScreen.vue';\n\nVue.use(Router);\n\nexport const routes = [\n  {\n    path: '/',\n    component: Landing,\n  },\n  {\n    path: '/story/read/:title',\n    component: StoryScreen,\n    beforeEnter(to, from, next) {\n      store.commit(UPDATE_EDITABLE, false);\n      if (store.state.storyUrl) {\n        next();\n      } else {\n        next('/story/load');\n      }\n    },\n  },\n  {\n    path: '/story/load',\n    component: CsLoadStoryForm,\n  },\n  {\n    path: '/story/create',\n    component: StoryScreen,\n    beforeEnter(to, from, next) {\n      store.commit(UPDATE_EDITABLE, true);\n      next();\n    },\n  },\n];\n\nconst router = new Router({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes,\n});\n\nrouter.beforeEach((to, from, next) =>  {\n  store.commit(UPDATE_LOADING, true);\n  next();\n});\n\nrouter.afterEach(() =>  {\n  store.commit(UPDATE_LOADING, false);\n});\n\nexport default router;\n","import Vue from 'vue';\nimport Vuex from 'vuex';\nimport VueLogger from 'vuejs-logger';\nimport VueSanitize from 'vue-sanitize';\nimport VueScrollTo from 'vue-scrollto';\nimport {\n  Button,\n  Col,\n  Container,\n  Footer,\n  Form,\n  FormItem,\n  Input,\n  Loading,\n  Main,\n  Notification,\n  Option,\n  Row,\n  Select,\n} from 'element-ui';\nimport 'normalize.css';\nimport 'element-ui/lib/theme-chalk/index.css';\nimport '@/assets/css/index.css';\n\nimport App from './App.vue';\nimport router from './router';\nimport store from './store/newStore';\n\nVue.config.productionTip = false;\nVue.use(Button);\nVue.use(Col);\nVue.use(Container);\nVue.use(Footer);\nVue.use(Form);\nVue.use(FormItem);\nVue.use(Input);\nVue.use(Loading.directive);\nVue.use(Main);\nVue.use(Option);\nVue.use(Row);\nVue.use(Select);\n\nVue.use(VueLogger);\nVue.use(VueScrollTo);\nVue.use(Vuex);\nVue.prototype.$notify = Notification;\n\nnew Vue({\n  store,\n  router,\n  render: h => h(App),\n}).$mount('#cartostory');\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CsLoadStoryForm.vue?vue&type=style&index=0&id=442b84f5&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CsLoadStoryForm.vue?vue&type=style&index=0&id=442b84f5&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CsTrackUploadButton.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CsTrackUploadButton.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Landing.vue?vue&type=style&index=0&id=71137e5c&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Landing.vue?vue&type=style&index=0&id=71137e5c&lang=scss&scoped=true&\""],"sourceRoot":""}